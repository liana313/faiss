-- Configuring done
-- Generating done
-- Build files have been written to: /home/ubuntu/faiss-vdb/build
make: Entering directory '/home/ubuntu/faiss-vdb/build'
make[1]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[2]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
Consolidate compiler generated dependencies of target faiss
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
[  2%] Building CXX object faiss/CMakeFiles/faiss.dir/impl/HNSW.cpp.o
[  5%] Linking CXX shared library libfaiss.so
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[100%] Built target faiss
make[2]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[1]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Entering directory '/home/ubuntu/faiss-vdb/build'
make[1]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[2]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
Consolidate compiler generated dependencies of target faiss
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[ 97%] Built target faiss
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
Consolidate compiler generated dependencies of target demo_test_search
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
[100%] Linking CXX executable demo_test_search
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[100%] Built target demo_test_search
make[2]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[1]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Entering directory '/home/ubuntu/faiss-vdb/build'
make[1]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[2]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[ 97%] Built target faiss
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
Consolidate compiler generated dependencies of target demo_test_search_small
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
[100%] Linking CXX executable demo_test_search_small
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[100%] Built target demo_test_search_small
make[2]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[1]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Entering directory '/home/ubuntu/faiss-vdb/build'
make[1]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[2]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[ 97%] Built target faiss
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
Consolidate compiler generated dependencies of target demo_test_hybrid_small
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[3]: Entering directory '/home/ubuntu/faiss-vdb/build'
[100%] Linking CXX executable demo_test_hybrid_small
make[3]: Leaving directory '/home/ubuntu/faiss-vdb/build'
[100%] Built target demo_test_hybrid_small
make[2]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make[1]: Leaving directory '/home/ubuntu/faiss-vdb/build'
make: Leaving directory '/home/ubuntu/faiss-vdb/build'
====================
START: running demo_test_HYBRID_small for hnsw...
[0.000 s] Index Params -- d: 1, M: 3, nb: 10, gamma: 2
--HNSW index created
====================Vectors====================
[0.000 s] Building a dataset of 10 vectors to index
vector 0: (0.592845)
vector 1: (0.844266)
vector 2: (0.857946)
vector 3: (0.847252)
vector 4: (0.623564)
vector 5: (0.384382)
vector 6: (0.297535)
vector 7: (0.056713)
vector 8: (0.272656)
vector 9: (0.477665)
[0.000 s] Adding the vectors to the index
01:19:31.785189 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785296 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785318 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785355 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785374 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785401 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785417 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785445 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785462 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785493 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785507 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785534 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785547 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785578 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
01:19:31.785595 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:564:greedy_update_nearest(): reached
[0.001 s] Vectors added
========= METADATA =======
	* cumulative max num neighbors per level
		indx 0: 0
		indx 1: 12
		indx 2: 18
		indx 3: 24
		indx 4: 30
		indx 5: 36
		indx 6: 42
		indx 7: 48
		indx 8: 54
		indx 9: 60
		indx 10: 66
		indx 11: 72
		indx 12: 78
		indx 13: 84
		indx 14: 90
		indx 15: 96
		indx 16: 102
		indx 17: 108
		indx 18: 114
	* level probabilities
		level 0: 0.666667
		level 1: 0.222222
		level 2: 0.074074
		level 3: 0.024691
		level 4: 0.008230
		level 5: 0.002743
		level 6: 0.000914
		level 7: 0.000305
		level 8: 0.000102
		level 9: 0.000034
		level 10: 0.000011
		level 11: 0.000004
		level 12: 0.000001
		level 13: 0.000000
		level 14: 0.000000
		level 15: 0.000000
		level 16: 0.000000
		level 17: 0.000000
		level 18: 0.000000
	* efConstruction: 4
	* efSearch: 2
	* max_level: 2
	* entry_point: 1
	* gamma: 2
========= LEVEL 0 =======
* stats on level 0, max 12 neighbors per vertex:
	 edges lists:
		 node 0: 1 7 2 6 5 8 3 4 9 
		 node 1: 0 7 2 6 5 3 4 
		 node 2: 7 0 1 6 3 4 
		 node 3: 5 0 2 1 4 
		 node 4: 2 3 1 0 9 
		 node 5: 1 7 0 6 8 3 9 
		 node 6: 2 1 0 7 5 8 9 
		 node 7: 1 0 2 6 5 8 
		 node 8: 0 7 5 6 
		 node 9: 6 4 0 5 
   1. nb of nodes: 10
   2. neighbors per node: 6.00 (60)
   3. nb of reciprocal neighbors: 6.00
   4. nb of neighbors that are also neighbor-of-neighbors: 6.00 (60)
========= LEVEL 1 =======
* stats on level 1, max 6 neighbors per vertex:
	 edges lists:
		 node 0: 1 7 
		 node 1: 0 7 
		 node 7: 1 0 
   1. nb of nodes: 3
   2. neighbors per node: 2.00 (6)
   3. nb of reciprocal neighbors: 2.00
   4. nb of neighbors that are also neighbor-of-neighbors: 2.00 (6)
========= LEVEL 2 =======
* stats on level 2, max 6 neighbors per vertex:
	 edges lists:
		 node 0: 1 
		 node 1: 0 
   1. nb of nodes: 2
   2. neighbors per node: 1.00 (2)
   3. nb of reciprocal neighbors: 1.00
   4. nb of neighbors that are also neighbor-of-neighbors: 0.00 (0)
[0.001 s] storing the hnsw index to ./tmp/index_hnsw_N=10.faissindex
====Size of the file is 1142 bytes
====================Search====================
[0.001 s] Searching the 10 nearest neighbors of 2 vectors in the index
01:19:31.792232 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1103:hybrid_search(): reached
01:19:31.792313 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1109:hybrid_search(): reached upper beam == 1
01:19:31.792361 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:594:hybrid_greedy_update_nearest(): reached
01:19:31.792391 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 0 with metadata 0
01:19:31.792419 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:607:hybrid_greedy_update_nearest(): skipping vertex
01:19:31.792446 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:594:hybrid_greedy_update_nearest(): reached
01:19:31.792489 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 0 with metadata 0
01:19:31.792517 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:607:hybrid_greedy_update_nearest(): skipping vertex
01:19:31.792544 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 7 with metadata 1
01:19:31.792573 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1121:hybrid_search(): reached search bounded queue
01:19:31.792254 01:19:31.792616 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:828:hybrid_search_from_candidates(): reached
01:19:31.792653 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 0 with metadata 0
01:19:31.792689 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.792717 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 7 with metadata 1
01:19:31.792747 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 2 with metadata 0
01:19:31.792779 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.792809 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 6 with metadata 0
01:19:31.792836 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.792863 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 5 with metadata 1
01:19:31.792891 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 3 with metadata 1
01:19:31.792919 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 4 with metadata 0
01:19:31.792946 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.792973 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:903:hybrid_search_from_candidates(): nstep incr'd to 1
01:19:31.793000 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 0 with metadata 0
01:19:31.793033 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.793062 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 2 with metadata 0
01:19:31.793089 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.793116 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 4 with metadata 0
01:19:31.793143 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.793187 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:903:hybrid_search_from_candidates(): nstep incr'd to 2
01:19:31.793216 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:865:hybrid_search_from_candidates(): n_dis_below >= efSearch BREAK cond reached
/home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1103:hybrid_search(): reached
01:19:31.793335 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1109:hybrid_search(): reached upper beam == 1
01:19:31.793394 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:594:hybrid_greedy_update_nearest(): reached
01:19:31.793450 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 0 with metadata 0
01:19:31.793505 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:607:hybrid_greedy_update_nearest(): skipping vertex
01:19:31.793561 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:594:hybrid_greedy_update_nearest(): reached
01:19:31.793616 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 0 with metadata 0
01:19:31.793671 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:607:hybrid_greedy_update_nearest(): skipping vertex
01:19:31.793726 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:605:hybrid_greedy_update_nearest(): looking at vertex 7 with metadata 1
01:19:31.793789 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:1121:hybrid_search(): reached search bounded queue
01:19:31.793849 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:828:hybrid_search_from_candidates(): reached
01:19:31.793907 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 0 with metadata 0
01:19:31.793962 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794017 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 7 with metadata 1
01:19:31.794074 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 2 with metadata 0
01:19:31.794129 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794184 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 6 with metadata 0
01:19:31.794239 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794294 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 5 with metadata 1
01:19:31.794350 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 3 with metadata 1
01:19:31.794406 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 4 with metadata 0
01:19:31.794461 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794516 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:903:hybrid_search_from_candidates(): nstep incr'd to 1
01:19:31.794572 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 0 with metadata 0
01:19:31.794627 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794682 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 2 with metadata 0
01:19:31.794737 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794792 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:884:hybrid_search_from_candidates(): looking at vertex 4 with metadata 0
01:19:31.794847 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:886:hybrid_search_from_candidates(): skipping vertex
01:19:31.794902 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:903:hybrid_search_from_candidates(): nstep incr'd to 2
01:19:31.794957 /home/ubuntu/faiss-vdb/faiss/impl/HNSW.cpp:865:hybrid_search_from_candidates(): n_dis_below >= efSearch BREAK cond reached
[0.010 s] Query results (vector ids, then distances):
query  0 nn's:       3 (1)       1 (1)       5 (1)       7 (1)      -1 (0)      -1 (0)      -1 (0)      -1 (0)      -1 (0)      -1 (0) 
     dis: 	      0 8.91592e-06 0.214249 0.624951 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 
query  1 nn's:       1 (1)       3 (1)       5 (1)       7 (1)      -1 (0)      -1 (0)      -1 (0)      -1 (0)      -1 (0)      -1 (0) 
     dis: 	0.0487094 0.0500363 0.057208 0.32132 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 3.40282e+38 
[0.010 s] *** Query time: 0.008962
-----DONE-----
